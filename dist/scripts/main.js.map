{"version":3,"sources":["../node_modules/svgxuse/svgxuse.js","../node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js","../node_modules/a11y-dialog/a11y-dialog.js","../node_modules/fitvids/dist/fitvids.js","../node_modules/@rqrauhvmra/tobi/js/tobi.js","../assets/scripts/lib/dropdown-menu.js","../assets/scripts/lib/markup-enhancements.js","../assets/scripts/lib/mobile-menu.js","../assets/scripts/main.js"],"names":["window","addEventListener","checkUseElems","tid","winLoad","cache","Object","create","debouncedCheck","clearTimeout","setTimeout","unobserveChanges","xlinkNS","base","bcr","hash","href","i","isHidden","url","uses","xhr","Request","origin","origin2","inProgressCount","observeIfDone","observer","MutationObserver","observe","document","documentElement","childList","subtree","attributes","disconnect","removeEventListener","ignore","attrUpdateFunc","spec","useEl","setAttributeNS","hasAttribute","setAttribute","onloadFunc","svg","body","x","createElement","onload","innerHTML","responseText","getElementsByTagName","style","position","width","height","overflow","insertBefore","firstChild","onErrorTimeout","onerror","ontimeout","length","getBoundingClientRect","getAttribute","getAttributeNS","split","left","right","top","bottom","undefined","XMLHttpRequest","getOrigin","location","withCredentials","XDomainRequest","open","send","abort","loc","a","protocol","replace","host","readyState","t","navigator","userAgent","match","n","parseInt","o","e","l","d","clientWidth","clientHeight","indexOf","dataset","objectFit","objectPosition","parentNode","getComputedStyle","getPropertyValue","display","className","max-width","max-height","min-width","min-height","margin-top","margin-right","margin-bottom","margin-left","marginTop","marginLeft","Event","querySelectorAll","nodeName","_typeof","toLowerCase","complete","this","objectFitPolyfill","global","focusedBeforeDialog","FOCUSABLE_ELEMENTS","A11yDialog","node","targets","_show","show","bind","_hide","hide","_maintainFocus","_bindKeypress","container","dialog","querySelector","role","useDialog","_listeners","toArray","collection","Array","prototype","slice","call","$$","selector","context","setFocusToFirstItem","focusableChildren","getFocusableChildren","focused","focus","join","filter","child","offsetWidth","offsetHeight","getClientRects","siblings","_targets","target","NodeList","isPrototypeOf","Element","collect","childNodes","nodeType","splice","shown","removeAttribute","_openers","id","forEach","opener","_closers","concat","closer","_fire","event","activeElement","showModal","close","destroy","on","type","handler","push","off","index","listener","focusedItemIndex","which","preventDefault","shiftKey","contains","module","exports","define","amd","f","self","fitvids","r","s","u","require","Error","code","1","selectors","queryAll","el","toSelectorArray","input","map","trim","hasLength","toString","apply","str","parentSelector","opts","players","containers","div","getElementById","head","appendChild","custom","ignored","ignoredSelector","video","matches","test","widthAttr","heightAttr","isNaN","aspect","wrapper","paddingTop","wrap","root","factory","Tobi","userOptions","config","browserWindow","figcaptionId","lightbox","prevButton","nextButton","closeButton","counter","drag","isDraggingX","isDraggingY","pointerDown","lastFocus","firstFocusableEl","lastFocusableEl","offset","offsetTmp","resizeTicking","isYouTubeDependencieLoaded","waitingEls","player","playerId","groupAtts","gallery","slider","sliderElements","elementsLength","currentIndex","groups","newGroup","activeGroup","supportedElements","image","checkSupport","init","figure","figcaption","thumbnail","loadingIndicator","opacity","alt","captions","captionsSelector","captionAttribute","textContent","loadingIndicatorLabel","onPreload","onLoad","removeChild","onLeave","onCleanup","html","checkType","targetSelector","currentTime","autoplayVideo","play","paused","pause","duration","videoClone","cloneNode","removeSources","load","iframe","maxWidth","maxHeight","youtube","iframePlaceholder","YT","Player","videoId","playerVars","controls","rel","playsinline","playVideo","getPlayerState","pauseVideo","entries","obj","ownProps","keys","resArray","getGroupName","remove","callback","groupName","slideIndex","slideEl","zoom","zoomIcon","classList","triggerTobi","isOpen","updateConfig","updateLightbox","hideScrollbar","add","disabled","clearDrag","bindEvents","preload","unbindEvents","prev","leave","cleanup","next","updateAfterDrag","movementX","endX","startX","movementY","endY","startY","movementXDistance","Math","abs","movementYDistance","threshold","swipeClose","updateOffset","clickHandler","docClose","stopPropagation","keydownHandler","keyCode","touchstartHandler","isIgnoreElement","touches","pageX","pageY","touchmoveHandler","doSwipe","touchendHandler","mousedownHandler","mousemoveHandler","mouseupHandler","checkDependencies","tag","firstScriptTag","src","onYouTubePlayerAPIReady","waitingEl","object","hasOwnProperty","JSON","parse","stringify","createSlider","tobiZoom","zoomText","createSlide","createLightbox","navLabel","navText","closeLabel","closeText","requestAnimationFrame","sliderElement","sliderElementContent","innerWidth","transform","round","keyboard","draggable","isTouchDevice","sources","source","nav","dir","focusableEls","name","updateSlider","options","download","downloadText","downloadLabel","rtl","loop","key","els","groupsEntries","groupsEntrie","currentSlide","selectGroup","currentGroup","component_dropdown_menu","args","hover_timeout","desktop_min_width","menu","menu_item_mouseleave","is_desktop_menu","li","deactivate_menu_item","currentTarget","caret_click_event","toggle_menu_item","get_ancestor","reset_menu_items","menu_items","j","menu_item_mouseenter","menu_carets","k","empty_a","empty_a_click_event","menu_item_a","m","menu_item_parent_a_touch_event","init_dropdown_menu","get_all_ancestors","item","css_class","result","ancestor","parentElement","isEqualNode","max","activate_menu_item","ul","ancestors","children","items_with_children","li_with_children","outside_menu_touch_event","Node","ELEMENT_NODE","is_element_inside_menu","console","log","gutenberg_content","responsive_tables_in_content","tables","wrap_old_images_with_caption","figures","wrap_old_aligned_images","aligned_parent","aligned","alignment","body_hero_background_indicator","imgItems","formats","some","includes","nextElementSibling","caption","innerText","component_mobile_menu","site","toggles","element","handle_toggle","dropdown_menus","theme_strings","loading"],"mappings":"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","file":"main.js","sourcesContent":["/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n    \"use strict\";\n    if (typeof window !== \"undefined\" && window.addEventListener) {\n        var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n        var checkUseElems;\n        var tid; // timeout id\n        var debouncedCheck = function () {\n            clearTimeout(tid);\n            tid = setTimeout(checkUseElems, 100);\n        };\n        var unobserveChanges = function () {\n            return;\n        };\n        var observeChanges = function () {\n            var observer;\n            window.addEventListener(\"resize\", debouncedCheck, false);\n            window.addEventListener(\"orientationchange\", debouncedCheck, false);\n            if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true,\n                    attributes: true\n                });\n                unobserveChanges = function () {\n                    try {\n                        observer.disconnect();\n                        window.removeEventListener(\"resize\", debouncedCheck, false);\n                        window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                    } catch (ignore) {}\n                };\n            } else {\n                document.documentElement.addEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                unobserveChanges = function () {\n                    document.documentElement.removeEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n                    window.removeEventListener(\"resize\", debouncedCheck, false);\n                    window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n                };\n            }\n        };\n        var createRequest = function (url) {\n            // In IE 9, cross origin requests can only be sent using XDomainRequest.\n            // XDomainRequest would fail if CORS headers are not set.\n            // Therefore, XDomainRequest should only be used with cross origin requests.\n            function getOrigin(loc) {\n                var a;\n                if (loc.protocol !== undefined) {\n                    a = loc;\n                } else {\n                    a = document.createElement(\"a\");\n                    a.href = loc;\n                }\n                return a.protocol.replace(/:/g, \"\") + a.host;\n            }\n            var Request;\n            var origin;\n            var origin2;\n            if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n                if (Request.withCredentials === undefined && origin2 !== \"\" && origin2 !== origin) {\n                    Request = XDomainRequest || undefined;\n                } else {\n                    Request = XMLHttpRequest;\n                }\n            }\n            return Request;\n        };\n        var xlinkNS = \"http://www.w3.org/1999/xlink\";\n        checkUseElems = function () {\n            var base;\n            var bcr;\n            var fallback = \"\"; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n            var hash;\n            var href;\n            var i;\n            var inProgressCount = 0;\n            var isHidden;\n            var Request;\n            var url;\n            var uses;\n            var xhr;\n            function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n                if (inProgressCount === 0) { // if all xhrs were resolved\n                    unobserveChanges(); // make sure to remove old handlers\n                    observeChanges(); // watch for changes to DOM\n                }\n            }\n            function attrUpdateFunc(spec) {\n                return function () {\n                    if (cache[spec.base] !== true) {\n                        spec.useEl.setAttributeNS(xlinkNS, \"xlink:href\", \"#\" + spec.hash);\n                        if (spec.useEl.hasAttribute(\"href\")) {\n                            spec.useEl.setAttribute(\"href\", \"#\" + spec.hash);\n                        }\n                    }\n                };\n            }\n            function onloadFunc(xhr) {\n                return function () {\n                    var body = document.body;\n                    var x = document.createElement(\"x\");\n                    var svg;\n                    xhr.onload = null;\n                    x.innerHTML = xhr.responseText;\n                    svg = x.getElementsByTagName(\"svg\")[0];\n                    if (svg) {\n                        svg.setAttribute(\"aria-hidden\", \"true\");\n                        svg.style.position = \"absolute\";\n                        svg.style.width = 0;\n                        svg.style.height = 0;\n                        svg.style.overflow = \"hidden\";\n                        body.insertBefore(svg, body.firstChild);\n                    }\n                    observeIfDone();\n                };\n            }\n            function onErrorTimeout(xhr) {\n                return function () {\n                    xhr.onerror = null;\n                    xhr.ontimeout = null;\n                    observeIfDone();\n                };\n            }\n            unobserveChanges(); // stop watching for changes to DOM\n            // find all use elements\n            uses = document.getElementsByTagName(\"use\");\n            for (i = 0; i < uses.length; i += 1) {\n                try {\n                    bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                    // failed to get bounding rectangle of the use element\n                    bcr = false;\n                }\n                href = uses[i].getAttribute(\"href\")\n                        || uses[i].getAttributeNS(xlinkNS, \"href\")\n                        || uses[i].getAttribute(\"xlink:href\");\n                if (href && href.split) {\n                    url = href.split(\"#\");\n                } else {\n                    url = [\"\", \"\"];\n                }\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                    // the use element is empty\n                    // if there is a reference to an external SVG, try to fetch it\n                    // use the optional fallback URL if there is no reference to an external SVG\n                    if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                        base = fallback;\n                    }\n                    if (uses[i].hasAttribute(\"href\")) {\n                        uses[i].setAttributeNS(xlinkNS, \"xlink:href\", href);\n                    }\n                    if (base.length) {\n                        // schedule updating xlink:href\n                        xhr = cache[base];\n                        if (xhr !== true) {\n                            // true signifies that prepending the SVG was not required\n                            setTimeout(attrUpdateFunc({\n                                useEl: uses[i],\n                                base: base,\n                                hash: hash\n                            }), 0);\n                        }\n                        if (xhr === undefined) {\n                            Request = createRequest(base);\n                            if (Request !== undefined) {\n                                xhr = new Request();\n                                cache[base] = xhr;\n                                xhr.onload = onloadFunc(xhr);\n                                xhr.onerror = onErrorTimeout(xhr);\n                                xhr.ontimeout = onErrorTimeout(xhr);\n                                xhr.open(\"GET\", base);\n                                xhr.send();\n                                inProgressCount += 1;\n                            }\n                        }\n                    }\n                } else {\n                    if (!isHidden) {\n                        if (cache[base] === undefined) {\n                            // remember this URL if the use element was not empty and no request was sent\n                            cache[base] = true;\n                        } else if (cache[base].onload) {\n                            // if it turns out that prepending the SVG is not necessary,\n                            // abort the in-progress xhr.\n                            cache[base].abort();\n                            delete cache[base].onload;\n                            cache[base] = true;\n                        }\n                    } else if (base.length && cache[base]) {\n                        setTimeout(attrUpdateFunc({\n                            useEl: uses[i],\n                            base: base,\n                            hash: hash\n                        }), 0);\n                    }\n                }\n            }\n            uses = \"\";\n            inProgressCount += 1;\n            observeIfDone();\n        };\n        var winLoad;\n        winLoad = function () {\n            window.removeEventListener(\"load\", winLoad, false); // to prevent memory leaks\n            tid = setTimeout(checkUseElems, 0);\n        };\n        if (document.readyState !== \"complete\") {\n            // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n            window.addEventListener(\"load\", winLoad, false);\n        } else {\n            // No need to add a listener if the document is already loaded, initialize immediately.\n            winLoad();\n        }\n    }\n}());\n","!function(){\"use strict\";if(\"undefined\"!=typeof window){var t=window.navigator.userAgent.match(/Edge\\/(\\d{2})\\./),n=!!t&&16<=parseInt(t[1],10);if(!(\"objectFit\"in document.documentElement.style!=!1)||n){var o=function(t,e,i){var n,o,l,a,d;if((i=i.split(\" \")).length<2&&(i[1]=i[0]),\"x\"===t)n=i[0],o=i[1],l=\"left\",a=\"right\",d=e.clientWidth;else{if(\"y\"!==t)return;n=i[1],o=i[0],l=\"top\",a=\"bottom\",d=e.clientHeight}if(n!==l&&o!==l){if(n!==a&&o!==a)return\"center\"===n||\"50%\"===n?(e.style[l]=\"50%\",void(e.style[\"margin-\"+l]=d/-2+\"px\")):void(0<=n.indexOf(\"%\")?(n=parseInt(n))<50?(e.style[l]=n+\"%\",e.style[\"margin-\"+l]=d*(n/-100)+\"px\"):(n=100-n,e.style[a]=n+\"%\",e.style[\"margin-\"+a]=d*(n/-100)+\"px\"):e.style[l]=n);e.style[a]=\"0\"}else e.style[l]=\"0\"},l=function(t){var e=t.dataset?t.dataset.objectFit:t.getAttribute(\"data-object-fit\"),i=t.dataset?t.dataset.objectPosition:t.getAttribute(\"data-object-position\");e=e||\"cover\",i=i||\"50% 50%\";var n=t.parentNode;return function(t){var e=window.getComputedStyle(t,null),i=e.getPropertyValue(\"position\"),n=e.getPropertyValue(\"overflow\"),o=e.getPropertyValue(\"display\");i&&\"static\"!==i||(t.style.position=\"relative\"),\"hidden\"!==n&&(t.style.overflow=\"hidden\"),o&&\"inline\"!==o||(t.style.display=\"block\"),0===t.clientHeight&&(t.style.height=\"100%\"),-1===t.className.indexOf(\"object-fit-polyfill\")&&(t.className=t.className+\" object-fit-polyfill\")}(n),function(t){var e=window.getComputedStyle(t,null),i={\"max-width\":\"none\",\"max-height\":\"none\",\"min-width\":\"0px\",\"min-height\":\"0px\",top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\",\"margin-top\":\"0px\",\"margin-right\":\"0px\",\"margin-bottom\":\"0px\",\"margin-left\":\"0px\"};for(var n in i)e.getPropertyValue(n)!==i[n]&&(t.style[n]=i[n])}(t),t.style.position=\"absolute\",t.style.width=\"auto\",t.style.height=\"auto\",\"scale-down\"===e&&(e=t.clientWidth<n.clientWidth&&t.clientHeight<n.clientHeight?\"none\":\"contain\"),\"none\"===e?(o(\"x\",t,i),void o(\"y\",t,i)):\"fill\"===e?(t.style.width=\"100%\",t.style.height=\"100%\",o(\"x\",t,i),void o(\"y\",t,i)):(t.style.height=\"100%\",void(\"cover\"===e&&t.clientWidth>n.clientWidth||\"contain\"===e&&t.clientWidth<n.clientWidth?(t.style.top=\"0\",t.style.marginTop=\"0\",o(\"x\",t,i)):(t.style.width=\"100%\",t.style.height=\"auto\",t.style.left=\"0\",t.style.marginLeft=\"0\",o(\"y\",t,i))))},e=function(t){if(void 0===t||t instanceof Event)t=document.querySelectorAll(\"[data-object-fit]\");else if(t&&t.nodeName)t=[t];else{if(\"object\"!=typeof t||!t.length||!t[0].nodeName)return!1;t=t}for(var e=0;e<t.length;e++)if(t[e].nodeName){var i=t[e].nodeName.toLowerCase();if(\"img\"===i){if(n)continue;t[e].complete?l(t[e]):t[e].addEventListener(\"load\",function(){l(this)})}else\"video\"===i?0<t[e].readyState?l(t[e]):t[e].addEventListener(\"loadedmetadata\",function(){l(this)}):l(t[e])}return!0};\"loading\"===document.readyState?document.addEventListener(\"DOMContentLoaded\",e):e(),window.addEventListener(\"resize\",e),window.objectFitPolyfill=e}else window.objectFitPolyfill=function(){return!1}}}();","/* global NodeList, Element, Event, define */\n\n(function(global) {\n  'use strict';\n\n  var FOCUSABLE_ELEMENTS = [\n    'a[href]:not([tabindex^=\"-\"]):not([inert])',\n    'area[href]:not([tabindex^=\"-\"]):not([inert])',\n    'input:not([disabled]):not([inert])',\n    'select:not([disabled]):not([inert])',\n    'textarea:not([disabled]):not([inert])',\n    'button:not([disabled]):not([inert])',\n    'iframe:not([tabindex^=\"-\"]):not([inert])',\n    'audio:not([tabindex^=\"-\"]):not([inert])',\n    'video:not([tabindex^=\"-\"]):not([inert])',\n    '[contenteditable]:not([tabindex^=\"-\"]):not([inert])',\n    '[tabindex]:not([tabindex^=\"-\"]):not([inert])'\n  ];\n  var TAB_KEY = 9;\n  var ESCAPE_KEY = 27;\n  var focusedBeforeDialog;\n\n  /**\n   * Define the constructor to instantiate a dialog\n   *\n   * @constructor\n   * @param {Element} node\n   * @param {(NodeList | Element | string)} targets\n   */\n  function A11yDialog(node, targets) {\n    // Prebind the functions that will be bound in addEventListener and\n    // removeEventListener to avoid losing references\n    this._show = this.show.bind(this);\n    this._hide = this.hide.bind(this);\n    this._maintainFocus = this._maintainFocus.bind(this);\n    this._bindKeypress = this._bindKeypress.bind(this);\n\n    // Keep a reference of the node and the actual dialog on the instance\n    this.container = node;\n    this.dialog = node.querySelector('dialog, [role=\"dialog\"], [role=\"alertdialog\"]');\n    this.role = this.dialog.getAttribute('role') || 'dialog';\n    this.useDialog = (\n      'show' in document.createElement('dialog') &&\n      this.dialog.nodeName === 'DIALOG'\n    );\n\n    // Keep an object of listener types mapped to callback functions\n    this._listeners = {};\n\n    // Initialise everything needed for the dialog to work properly\n    this.create(targets);\n  }\n\n  /**\n   * Set up everything necessary for the dialog to be functioning\n   *\n   * @param {(NodeList | Element | string)} targets\n   * @return {this}\n   */\n  A11yDialog.prototype.create = function(targets) {\n    // Keep a collection of nodes to disable/enable when toggling the dialog\n    this._targets =\n      this._targets || collect(targets) || getSiblings(this.container);\n\n    // Set the `shown` property to match the status from the DOM\n    this.shown = this.dialog.hasAttribute('open');\n\n    // Despite using a `<dialog>` element, `role=\"dialog\"` is not necessarily\n    // implied by all screen-readers (yet)\n    // See: https://github.com/edenspiekermann/a11y-dialog/commit/6ba711a777aed0dbda0719a18a02f742098c64d9#commitcomment-28694166\n    this.dialog.setAttribute('role', this.role);\n\n    if (!this.useDialog) {\n      if (this.shown) {\n        this.container.removeAttribute('aria-hidden');\n      } else {\n        this.container.setAttribute('aria-hidden', true);\n      }\n    } else {\n      this.container.setAttribute('data-a11y-dialog-native', '');\n    }\n\n    // Keep a collection of dialog openers, each of which will be bound a click\n    // event listener to open the dialog\n    this._openers = $$('[data-a11y-dialog-show=\"' + this.container.id + '\"]');\n    this._openers.forEach(\n      function(opener) {\n        opener.addEventListener('click', this._show);\n      }.bind(this)\n    );\n\n    // Keep a collection of dialog closers, each of which will be bound a click\n    // event listener to close the dialog\n    this._closers = $$('[data-a11y-dialog-hide]', this.container).concat(\n      $$('[data-a11y-dialog-hide=\"' + this.container.id + '\"]')\n    );\n    this._closers.forEach(\n      function(closer) {\n        closer.addEventListener('click', this._hide);\n      }.bind(this)\n    );\n\n    // Execute all callbacks registered for the `create` event\n    this._fire('create');\n\n    return this;\n  };\n\n  /**\n   * Show the dialog element, disable all the targets (siblings), trap the\n   * current focus within it, listen for some specific key presses and fire all\n   * registered callbacks for `show` event\n   *\n   * @param {Event} event\n   * @return {this}\n   */\n  A11yDialog.prototype.show = function(event) {\n    // If the dialog is already open, abort\n    if (this.shown) {\n      return this;\n    }\n\n    this.shown = true;\n\n    // Keep a reference to the currently focused element to be able to restore\n    // it later\n    focusedBeforeDialog = document.activeElement;\n\n    if (this.useDialog) {\n      this.dialog.showModal(event instanceof Event ? void 0 : event);\n    } else {\n      this.dialog.setAttribute('open', '');\n      this.container.removeAttribute('aria-hidden');\n\n      // Iterate over the targets to disable them by setting their `aria-hidden`\n      // attribute to `true`\n      this._targets.forEach(function(target) {\n        target.setAttribute('aria-hidden', 'true');\n      });\n    }\n\n    // Set the focus to the first focusable child of the dialog element\n    setFocusToFirstItem(this.dialog);\n\n    // Bind a focus event listener to the body element to make sure the focus\n    // stays trapped inside the dialog while open, and start listening for some\n    // specific key presses (TAB and ESC)\n    document.body.addEventListener('focus', this._maintainFocus, true);\n    document.addEventListener('keydown', this._bindKeypress);\n\n    // Execute all callbacks registered for the `show` event\n    this._fire('show', event);\n\n    return this;\n  };\n\n  /**\n   * Hide the dialog element, enable all the targets (siblings), restore the\n   * focus to the previously active element, stop listening for some specific\n   * key presses and fire all registered callbacks for `hide` event\n   *\n   * @param {Event} event\n   * @return {this}\n   */\n  A11yDialog.prototype.hide = function(event) {\n    // If the dialog is already closed, abort\n    if (!this.shown) {\n      return this;\n    }\n\n    this.shown = false;\n\n    if (this.useDialog) {\n      this.dialog.close(event instanceof Event ? void 0 : event);\n    } else {\n      this.dialog.removeAttribute('open');\n      this.container.setAttribute('aria-hidden', 'true');\n\n      // Iterate over the targets to enable them by remove their `aria-hidden`\n      // attribute\n      this._targets.forEach(function(target) {\n        target.removeAttribute('aria-hidden');\n      });\n    }\n\n    // If their was a focused element before the dialog was opened, restore the\n    // focus back to it\n    if (focusedBeforeDialog) {\n      focusedBeforeDialog.focus();\n    }\n\n    // Remove the focus event listener to the body element and stop listening\n    // for specific key presses\n    document.body.removeEventListener('focus', this._maintainFocus, true);\n    document.removeEventListener('keydown', this._bindKeypress);\n\n    // Execute all callbacks registered for the `hide` event\n    this._fire('hide', event);\n\n    return this;\n  };\n\n  /**\n   * Destroy the current instance (after making sure the dialog has been hidden)\n   * and remove all associated listeners from dialog openers and closers\n   *\n   * @return {this}\n   */\n  A11yDialog.prototype.destroy = function() {\n    // Hide the dialog to avoid destroying an open instance\n    this.hide();\n\n    // Remove the click event listener from all dialog openers\n    this._openers.forEach(\n      function(opener) {\n        opener.removeEventListener('click', this._show);\n      }.bind(this)\n    );\n\n    // Remove the click event listener from all dialog closers\n    this._closers.forEach(\n      function(closer) {\n        closer.removeEventListener('click', this._hide);\n      }.bind(this)\n    );\n\n    // Execute all callbacks registered for the `destroy` event\n    this._fire('destroy');\n\n    // Keep an object of listener types mapped to callback functions\n    this._listeners = {};\n\n    return this;\n  };\n\n  /**\n   * Register a new callback for the given event type\n   *\n   * @param {string} type\n   * @param {Function} handler\n   */\n  A11yDialog.prototype.on = function(type, handler) {\n    if (typeof this._listeners[type] === 'undefined') {\n      this._listeners[type] = [];\n    }\n\n    this._listeners[type].push(handler);\n\n    return this;\n  };\n\n  /**\n   * Unregister an existing callback for the given event type\n   *\n   * @param {string} type\n   * @param {Function} handler\n   */\n  A11yDialog.prototype.off = function(type, handler) {\n    var index = this._listeners[type].indexOf(handler);\n\n    if (index > -1) {\n      this._listeners[type].splice(index, 1);\n    }\n\n    return this;\n  };\n\n  /**\n   * Iterate over all registered handlers for given type and call them all with\n   * the dialog element as first argument, event as second argument (if any).\n   *\n   * @access private\n   * @param {string} type\n   * @param {Event} event\n   */\n  A11yDialog.prototype._fire = function(type, event) {\n    var listeners = this._listeners[type] || [];\n\n    listeners.forEach(\n      function(listener) {\n        listener(this.container, event);\n      }.bind(this)\n    );\n  };\n\n  /**\n   * Private event handler used when listening to some specific key presses\n   * (namely ESCAPE and TAB)\n   *\n   * @access private\n   * @param {Event} event\n   */\n  A11yDialog.prototype._bindKeypress = function(event) {\n    // If the dialog is shown and the ESCAPE key is being pressed, prevent any\n    // further effects from the ESCAPE key and hide the dialog, unless its role\n    // is 'alertdialog', which should be modal\n    if (this.shown && event.which === ESCAPE_KEY && this.role !== 'alertdialog') {\n      event.preventDefault();\n      this.hide();\n    }\n\n    // If the dialog is shown and the TAB key is being pressed, make sure the\n    // focus stays trapped within the dialog element\n    if (this.shown && event.which === TAB_KEY) {\n      trapTabKey(this.dialog, event);\n    }\n  };\n\n  /**\n   * Private event handler used when making sure the focus stays within the\n   * currently open dialog\n   *\n   * @access private\n   * @param {Event} event\n   */\n  A11yDialog.prototype._maintainFocus = function(event) {\n    // If the dialog is shown and the focus is not within the dialog element,\n    // move it back to its first focusable child\n    if (this.shown && !this.container.contains(event.target)) {\n      setFocusToFirstItem(this.dialog);\n    }\n  };\n\n  /**\n   * Convert a NodeList into an array\n   *\n   * @param {NodeList} collection\n   * @return {Array<Element>}\n   */\n  function toArray(collection) {\n    return Array.prototype.slice.call(collection);\n  }\n\n  /**\n   * Query the DOM for nodes matching the given selector, scoped to context (or\n   * the whole document)\n   *\n   * @param {String} selector\n   * @param {Element} [context = document]\n   * @return {Array<Element>}\n   */\n  function $$(selector, context) {\n    return toArray((context || document).querySelectorAll(selector));\n  }\n\n  /**\n   * Return an array of Element based on given argument (NodeList, Element or\n   * string representing a selector)\n   *\n   * @param {(NodeList | Element | string)} target\n   * @return {Array<Element>}\n   */\n  function collect(target) {\n    if (NodeList.prototype.isPrototypeOf(target)) {\n      return toArray(target);\n    }\n\n    if (Element.prototype.isPrototypeOf(target)) {\n      return [target];\n    }\n\n    if (typeof target === 'string') {\n      return $$(target);\n    }\n  }\n\n  /**\n   * Set the focus to the first element with `autofocus` or the first focusable\n   * child of the given element\n   *\n   * @param {Element} node\n   */\n  function setFocusToFirstItem(node) {\n    var focusableChildren = getFocusableChildren(node);\n    var focused = node.querySelector('[autofocus]') || focusableChildren[0];\n\n    if (focused) {\n      focused.focus();\n    }\n  }\n\n  /**\n   * Get the focusable children of the given element\n   *\n   * @param {Element} node\n   * @return {Array<Element>}\n   */\n  function getFocusableChildren(node) {\n    return $$(FOCUSABLE_ELEMENTS.join(','), node).filter(function(child) {\n      return !!(\n        child.offsetWidth ||\n        child.offsetHeight ||\n        child.getClientRects().length\n      );\n    });\n  }\n\n  /**\n   * Trap the focus inside the given element\n   *\n   * @param {Element} node\n   * @param {Event} event\n   */\n  function trapTabKey(node, event) {\n    var focusableChildren = getFocusableChildren(node);\n    var focusedItemIndex = focusableChildren.indexOf(document.activeElement);\n\n    // If the SHIFT key is being pressed while tabbing (moving backwards) and\n    // the currently focused item is the first one, move the focus to the last\n    // focusable item from the dialog element\n    if (event.shiftKey && focusedItemIndex === 0) {\n      focusableChildren[focusableChildren.length - 1].focus();\n      event.preventDefault();\n      // If the SHIFT key is not being pressed (moving forwards) and the currently\n      // focused item is the last one, move the focus to the first focusable item\n      // from the dialog element\n    } else if (\n      !event.shiftKey &&\n      focusedItemIndex === focusableChildren.length - 1\n    ) {\n      focusableChildren[0].focus();\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * Retrieve siblings from given element\n   *\n   * @param {Element} node\n   * @return {Array<Element>}\n   */\n  function getSiblings(node) {\n    var nodes = toArray(node.parentNode.childNodes);\n    var siblings = nodes.filter(function(node) {\n      return node.nodeType === 1;\n    });\n\n    siblings.splice(siblings.indexOf(node), 1);\n\n    return siblings;\n  }\n\n  if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = A11yDialog;\n  } else if (typeof define === 'function' && define.amd) {\n    define('A11yDialog', [], function() {\n      return A11yDialog;\n    });\n  } else if (typeof global === 'object') {\n    global.A11yDialog = A11yDialog;\n  }\n})(typeof global !== 'undefined' ? global : window);\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.fitvids = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar selectors = [\n  'iframe[src*=\"player.vimeo.com\"]',\n  'iframe[src*=\"youtube.com\"]',\n  'iframe[src*=\"youtube-nocookie.com\"]',\n  'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n  \"object\"\n];\n\nvar css =\n  \".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}\";\n\nmodule.exports = function(parentSelector, opts) {\n  parentSelector = parentSelector || \"body\";\n  opts = opts || {};\n\n  if (isObject(parentSelector)) {\n    opts = parentSelector;\n    parentSelector = \"body\";\n  }\n\n  opts.ignore = opts.ignore || \"\";\n  opts.players = opts.players || \"\";\n\n  var containers = queryAll(parentSelector);\n  if (!hasLength(containers)) return;\n\n  if (!document.getElementById(\"fit-vids-style\")) {\n    var head = document.head || document.getElementsByTagName(\"head\")[0];\n    head.appendChild(styles());\n  }\n\n  var custom = toSelectorArray(opts.players);\n  var ignored = toSelectorArray(opts.ignore);\n  var ignoredSelector = ignored.length > 0 ? ignored.join() : null;\n  var selector = selectors.concat(custom).join();\n\n  if (!hasLength(selector)) {\n    return;\n  }\n\n  containers.forEach(function(container) {\n    var videos = queryAll(container, selector);\n\n    videos.forEach(function(video) {\n      if (ignoredSelector && video.matches(ignoredSelector)) {\n        return;\n      }\n      wrap(video);\n    });\n  });\n}\n\nfunction queryAll(el, selector) {\n  if (typeof el === \"string\") {\n    selector = el;\n    el = document;\n  }\n  return Array.prototype.slice.call(el.querySelectorAll(selector));\n}\n\nfunction toSelectorArray(input) {\n  if (typeof input === \"string\") {\n    return input\n      .split(\",\")\n      .map(trim)\n      .filter(hasLength);\n  } else if (isArray(input)) {\n    return flatten(input.map(toSelectorArray).filter(hasLength));\n  }\n  return input || [];\n}\n\nfunction wrap(el) {\n  if (/fluid-width-video-wrapper/.test(el.parentNode.className)) {\n    return;\n  }\n\n  var widthAttr = parseInt(el.getAttribute(\"width\"), 10);\n  var heightAttr = parseInt(el.getAttribute(\"height\"), 10);\n\n  var width = !isNaN(widthAttr) ? widthAttr : el.clientWidth;\n  var height = !isNaN(heightAttr) ? heightAttr : el.clientHeight;\n  var aspect = height / width;\n\n  el.removeAttribute(\"width\");\n  el.removeAttribute(\"height\");\n\n  var wrapper = document.createElement(\"div\");\n  el.parentNode.insertBefore(wrapper, el);\n  wrapper.className = \"fluid-width-video-wrapper\";\n  wrapper.style.paddingTop = aspect * 100 + \"%\";\n  wrapper.appendChild(el);\n}\n\nfunction styles() {\n  var div = document.createElement(\"div\");\n  div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + \"</style>\";\n  return div.childNodes[1];\n}\n\nfunction hasLength(input) {\n  return input.length > 0;\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s+|\\s+$/g, \"\");\n}\n\nfunction flatten(input) {\n  return [].concat.apply([], input);\n}\n\nfunction isObject(input) {\n  return Object.prototype.toString.call(input) === \"[object Object]\";\n}\n\nfunction isArray(input) {\n  return Object.prototype.toString.call(input) === \"[object Array]\";\n}\n\n},{}]},{},[1])(1)\n});\n","/**\r\n * Tobi\r\n *\r\n * @author rqrauhvmra\r\n * @version 1.9.0\r\n * @url https://github.com/rqrauhvmra/Tobi\r\n *\r\n * MIT License\r\n */\r\n(function (root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    // Node. Does not work with strict CommonJS, but\r\n    // only CommonJS-like environments that support module.exports,\r\n    // like Node.\r\n    module.exports = factory()\r\n  } else {\r\n    // Browser globals (root is window)\r\n    root.Tobi = factory()\r\n  }\r\n}(this, function () {\r\n  'use strict'\r\n\r\n  const Tobi = function Tobi (userOptions) {\r\n    /**\r\n     * Global variables\r\n     *\r\n     */\r\n    let config = {}\r\n    const browserWindow = window\r\n    let figcaptionId = 0\r\n    let lightbox = null\r\n    let prevButton = null\r\n    let nextButton = null\r\n    let closeButton = null\r\n    let counter = null\r\n    let drag = {}\r\n    let isDraggingX = false\r\n    let isDraggingY = false\r\n    let pointerDown = false\r\n    let lastFocus = null\r\n    let firstFocusableEl = null\r\n    let lastFocusableEl = null\r\n    let offset = null\r\n    let offsetTmp = null\r\n    let resizeTicking = false\r\n    let isYouTubeDependencieLoaded = false\r\n    const waitingEls = []\r\n    const player = []\r\n    let playerId = 0\r\n    const groupAtts = {\r\n      gallery: [],\r\n      slider: null,\r\n      sliderElements: [],\r\n      elementsLength: 0,\r\n      currentIndex: 0,\r\n      x: 0\r\n    }\r\n    let groups = {}\r\n    let newGroup = null\r\n    let activeGroup = null\r\n\r\n    /**\r\n     * Merge default options with user options\r\n     *\r\n     * @param {Object} userOptions - Optional user options\r\n     * @returns {Object} - Custom options\r\n     */\r\n    const mergeOptions = function mergeOptions (userOptions) {\r\n      // Default options\r\n      const options = {\r\n        selector: '.lightbox',\r\n        captions: true,\r\n        captionsSelector: 'img',\r\n        captionAttribute: 'alt',\r\n        nav: 'auto',\r\n        navText: [\r\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewbox=\"0 0 24 24\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M14 18l-6-6 6-6\"/></svg>',\r\n          '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewbox=\"0 0 24 24\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M10 6l6 6-6 6\"/></svg>'\r\n        ],\r\n        navLabel: [\r\n          'Previous image',\r\n          'Next image'\r\n        ],\r\n        close: true,\r\n        closeText: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewbox=\"0 0 24 24\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M6 6l12 12M6 18L18 6\"/></svg>',\r\n        closeLabel: 'Close lightbox',\r\n        loadingIndicatorLabel: 'Image loading',\r\n        counter: true,\r\n        download: false, // TODO\r\n        downloadText: '', // TODO\r\n        downloadLabel: 'Download image', // TODO\r\n        keyboard: true,\r\n        zoom: true,\r\n        zoomText: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M21 16v5h-5\"/><path d=\"M8 21H3v-5\"/><path d=\"M16 3h5v5\"/><path d=\"M3 8V3h5\"/></svg>',\r\n        docClose: true,\r\n        swipeClose: true,\r\n        hideScrollbar: true,\r\n        draggable: true,\r\n        threshold: 100,\r\n        rtl: false, // TODO\r\n        loop: false, // TODO\r\n        autoplayVideo: false\r\n      }\r\n\r\n      if (userOptions) {\r\n        Object.keys(userOptions).forEach(function (key) {\r\n          options[key] = userOptions[key]\r\n        })\r\n      }\r\n\r\n      return options\r\n    }\r\n\r\n    /**\r\n     * Types - you can add new type to support something new\r\n     *\r\n     */\r\n    const supportedElements = {\r\n      image: {\r\n        checkSupport: function (el) {\r\n          return !el.hasAttribute('data-type') && el.href.match(/\\.(png|jpe?g|tiff|tif|gif|bmp|webp|svg|ico)(\\?.*)?$/i)\r\n        },\r\n\r\n        init: function (el, container) {\r\n          const figure = document.createElement('figure')\r\n          const figcaption = document.createElement('figcaption')\r\n          const image = document.createElement('img')\r\n          const thumbnail = el.querySelector('img')\r\n          const loadingIndicator = document.createElement('div')\r\n\r\n          image.style.opacity = '0'\r\n\r\n          if (thumbnail) {\r\n            image.alt = thumbnail.alt || ''\r\n          }\r\n\r\n          image.setAttribute('src', '')\r\n          image.setAttribute('data-src', el.href)\r\n\r\n          // Add image to figure\r\n          figure.appendChild(image)\r\n\r\n          // Create figcaption\r\n          if (config.captions) {\r\n            figcaption.style.opacity = '0'\r\n\r\n            if (config.captionsSelector === 'self' && el.getAttribute(config.captionAttribute)) {\r\n              figcaption.textContent = el.getAttribute(config.captionAttribute)\r\n            } else if (config.captionsSelector === 'img' && thumbnail && thumbnail.getAttribute(config.captionAttribute)) {\r\n              figcaption.textContent = thumbnail.getAttribute(config.captionAttribute)\r\n            }\r\n\r\n            if (figcaption.textContent) {\r\n              figcaption.id = 'tobi-figcaption-' + figcaptionId\r\n              figure.appendChild(figcaption)\r\n\r\n              image.setAttribute('aria-labelledby', figcaption.id)\r\n\r\n              ++figcaptionId\r\n            }\r\n          }\r\n\r\n          // Add figure to container\r\n          container.appendChild(figure)\r\n\r\n          // Create loading indicator\r\n          loadingIndicator.className = 'tobi-loader'\r\n          loadingIndicator.setAttribute('role', 'progressbar')\r\n          loadingIndicator.setAttribute('aria-label', config.loadingIndicatorLabel)\r\n\r\n          // Add loading indicator to container\r\n          container.appendChild(loadingIndicator)\r\n\r\n          // Register type\r\n          container.setAttribute('data-type', 'image')\r\n        },\r\n\r\n        onPreload: function (container) {\r\n          // Same as preload\r\n          supportedElements.image.onLoad(container)\r\n        },\r\n\r\n        onLoad: function (container) {\r\n          const image = container.querySelector('img')\r\n\r\n          if (!image.hasAttribute('data-src')) {\r\n            return\r\n          }\r\n\r\n          const figcaption = container.querySelector('figcaption')\r\n          const loadingIndicator = container.querySelector('.tobi-loader')\r\n\r\n          image.onload = function () {\r\n            container.removeChild(loadingIndicator)\r\n            image.style.opacity = '1'\r\n\r\n            if (figcaption) {\r\n              figcaption.style.opacity = '1'\r\n            }\r\n          }\r\n\r\n          image.setAttribute('src', image.getAttribute('data-src'))\r\n          image.removeAttribute('data-src')\r\n        },\r\n\r\n        onLeave: function (container) {\r\n          // Nothing\r\n        },\r\n\r\n        onCleanup: function (container) {\r\n          // Nothing\r\n        }\r\n      },\r\n\r\n      html: {\r\n        checkSupport: function (el) {\r\n          return checkType(el, 'html')\r\n        },\r\n\r\n        init: function (el, container) {\r\n          const targetSelector = el.hasAttribute('href') ? el.getAttribute('href') : el.getAttribute('data-target')\r\n          const target = document.querySelector(targetSelector)\r\n\r\n          if (!target) {\r\n            throw new Error('Ups, I can\\'t find the target ' + targetSelector + '.')\r\n          }\r\n\r\n          // Add content to container\r\n          container.appendChild(target)\r\n\r\n          // Register type\r\n          container.setAttribute('data-type', 'html')\r\n        },\r\n\r\n        onPreload: function (container) {\r\n          // Nothing\r\n        },\r\n\r\n        onLoad: function (container) {\r\n          const video = container.querySelector('video')\r\n\r\n          if (video) {\r\n            if (video.hasAttribute('data-time') && video.readyState > 0) {\r\n              // Continue where video was stopped\r\n              video.currentTime = video.getAttribute('data-time')\r\n            }\r\n\r\n            if (config.autoplayVideo) {\r\n              // Start playback (and loading if necessary)\r\n              video.play()\r\n            }\r\n          }\r\n        },\r\n\r\n        onLeave: function (container) {\r\n          const video = container.querySelector('video')\r\n\r\n          if (video) {\r\n            if (!video.paused) {\r\n              // Stop if video is playing\r\n              video.pause()\r\n            }\r\n\r\n            // Backup currentTime (needed for revisit)\r\n            if (video.readyState > 0) {\r\n              video.setAttribute('data-time', video.currentTime)\r\n            }\r\n          }\r\n        },\r\n\r\n        onCleanup: function (container) {\r\n          const video = container.querySelector('video')\r\n\r\n          if (video) {\r\n            if (video.readyState > 0 && video.readyState < 3 && video.duration !== video.currentTime) {\r\n              // Some data has been loaded but not the whole package.\r\n              // In order to save bandwidth, stop downloading as soon as possible.\r\n              const videoClone = video.cloneNode(true)\r\n\r\n              removeSources(video)\r\n              video.load()\r\n\r\n              video.parentNode.removeChild(video)\r\n\r\n              container.appendChild(videoClone)\r\n            }\r\n          }\r\n        }\r\n      },\r\n\r\n      iframe: {\r\n        checkSupport: function (el) {\r\n          return checkType(el, 'iframe')\r\n        },\r\n\r\n        init: function (el, container) {\r\n          const iframe = document.createElement('iframe')\r\n          const href = el.hasAttribute('href') ? el.getAttribute('href') : el.getAttribute('data-target')\r\n\r\n          iframe.setAttribute('frameborder', '0')\r\n          iframe.setAttribute('src', '')\r\n          iframe.setAttribute('data-src', href)\r\n\r\n          if (el.getAttribute('data-width')) {\r\n            iframe.style.maxWidth = el.getAttribute('data-width') + 'px'\r\n          }\r\n\r\n          if (el.getAttribute('data-height')) {\r\n            iframe.style.maxHeight = el.getAttribute('data-height') + 'px'\r\n          }\r\n\r\n          // Add iframe to container\r\n          container.appendChild(iframe)\r\n\r\n          // Register type\r\n          container.setAttribute('data-type', 'iframe')\r\n        },\r\n\r\n        onPreload: function (container) {\r\n          // Nothing\r\n        },\r\n\r\n        onLoad: function (container) {\r\n          const iframe = container.querySelector('iframe')\r\n\r\n          iframe.setAttribute('src', iframe.getAttribute('data-src'))\r\n        },\r\n\r\n        onLeave: function (container) {\r\n          // Nothing\r\n        },\r\n\r\n        onCleanup: function (container) {\r\n          // Nothing\r\n        }\r\n      },\r\n\r\n      youtube: {\r\n        checkSupport: function (el) {\r\n          return checkType(el, 'youtube')\r\n        },\r\n\r\n        init: function (el, container) {\r\n          const iframePlaceholder = document.createElement('div')\r\n\r\n          // Add iframePlaceholder to container\r\n          container.appendChild(iframePlaceholder)\r\n\r\n          player[playerId] = new window.YT.Player(iframePlaceholder, {\r\n            host: 'https://www.youtube-nocookie.com',\r\n            height: el.getAttribute('data-height') || '360',\r\n            width: el.getAttribute('data-width') || '640',\r\n            videoId: el.getAttribute('data-id'),\r\n            playerVars: {\r\n              controls: el.getAttribute('data-controls') || 1,\r\n              rel: 0,\r\n              playsinline: 1\r\n            }\r\n          })\r\n\r\n          // Set player ID\r\n          container.setAttribute('data-player', playerId)\r\n\r\n          // Register type\r\n          container.setAttribute('data-type', 'youtube')\r\n\r\n          playerId++\r\n        },\r\n\r\n        onPreload: function (container) {\r\n          // Nothing\r\n        },\r\n\r\n        onLoad: function (container) {\r\n          if (config.autoplayVideo) {\r\n            player[container.getAttribute('data-player')].playVideo()\r\n          }\r\n        },\r\n\r\n        onLeave: function (container) {\r\n          if (player[container.getAttribute('data-player')].getPlayerState() === 1) {\r\n            player[container.getAttribute('data-player')].pauseVideo()\r\n          }\r\n        },\r\n\r\n        onCleanup: function (container) {\r\n          if (player[container.getAttribute('data-player')].getPlayerState() === 1) {\r\n            player[container.getAttribute('data-player')].pauseVideo()\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Add compatible Object.entries support for IE\r\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries#Polyfill\r\n     *\r\n     */\r\n    if (!Object.entries) {\r\n      Object.entries = function (obj) {\r\n        const ownProps = Object.keys(obj)\r\n        let i = ownProps.length\r\n        const resArray = new Array(i)\r\n\r\n        while (i--) {\r\n          resArray[i] = [ownProps[i], obj[ownProps[i]]]\r\n        }\r\n\r\n        return resArray\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Init\r\n     *\r\n     */\r\n    const init = function init (userOptions) {\r\n      // Merge user options into defaults\r\n      config = mergeOptions(userOptions)\r\n\r\n      // Check if the lightbox already exists\r\n      if (!lightbox) {\r\n        createLightbox()\r\n      }\r\n\r\n      // Get a list of all elements within the document\r\n      const els = document.querySelectorAll(config.selector)\r\n\r\n      if (!els) {\r\n        throw new Error('Ups, I can\\'t find the selector ' + config.selector + '.')\r\n      }\r\n\r\n      // Execute a few things once per element\r\n      Array.prototype.forEach.call(els, function (el) {\r\n        checkDependencies(el)\r\n      })\r\n    }\r\n\r\n    /**\r\n     * Check dependencies\r\n     *\r\n     * @param {HTMLElement} el - Element to add\r\n     * @param {function} callback - Optional callback to call after add\r\n     */\r\n    const checkDependencies = function checkDependencies (el, callback) {\r\n      // Check if there is a YouTube video and if the YouTube iframe-API is ready\r\n      if (document.querySelector('[data-type=\"youtube\"]') !== null && !isYouTubeDependencieLoaded) {\r\n        if (document.getElementById('iframe_api') === null) {\r\n          const tag = document.createElement('script')\r\n          const firstScriptTag = document.getElementsByTagName('script')[0]\r\n\r\n          tag.id = 'iframe_api'\r\n          tag.src = 'https://www.youtube.com/iframe_api'\r\n\r\n          firstScriptTag.parentNode.insertBefore(tag, firstScriptTag)\r\n        }\r\n\r\n        if (waitingEls.indexOf(el) === -1) {\r\n          waitingEls.push(el)\r\n        }\r\n\r\n        window.onYouTubePlayerAPIReady = function () {\r\n          Array.prototype.forEach.call(waitingEls, function (waitingEl) {\r\n            add(waitingEl, callback)\r\n          })\r\n\r\n          isYouTubeDependencieLoaded = true\r\n        }\r\n      } else {\r\n        add(el, callback)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get group name from element\r\n     *\r\n     * @param {HTMLElement} el\r\n     * @return {string}\r\n     */\r\n    const getGroupName = function getGroupName (el) {\r\n      return el.hasAttribute('data-group') ? el.getAttribute('data-group') : 'default'\r\n    }\r\n\r\n    /**\r\n     * Copy an object. (The secure way)\r\n     *\r\n     * @param {object} object\r\n     * @return {object}\r\n     */\r\n    const copyObject = function copyObject (object) {\r\n      return JSON.parse(JSON.stringify(object))\r\n    }\r\n\r\n    /**\r\n     * Add element\r\n     *\r\n     * @param {HTMLElement} el - Element to add\r\n     * @param {function} callback - Optional callback to call after add\r\n     */\r\n    const add = function add (el, callback) {\r\n      newGroup = getGroupName(el)\r\n\r\n      if (!Object.prototype.hasOwnProperty.call(groups, newGroup)) {\r\n        groups[newGroup] = copyObject(groupAtts)\r\n\r\n        createSlider()\r\n      }\r\n\r\n      // Check if element already exists\r\n      if (groups[newGroup].gallery.indexOf(el) === -1) {\r\n        groups[newGroup].gallery.push(el)\r\n        groups[newGroup].elementsLength++\r\n\r\n        // Set zoom icon if necessary\r\n        if (config.zoom && el.querySelector('img')) {\r\n          const tobiZoom = document.createElement('div')\r\n\r\n          tobiZoom.className = 'tobi-zoom__icon'\r\n          tobiZoom.innerHTML = config.zoomText\r\n\r\n          el.classList.add('tobi-zoom')\r\n          el.appendChild(tobiZoom)\r\n        }\r\n\r\n        // Bind click event handler\r\n        el.addEventListener('click', triggerTobi)\r\n\r\n        createSlide(el)\r\n\r\n        if (isOpen() && newGroup === activeGroup) {\r\n          updateConfig()\r\n          updateLightbox()\r\n        }\r\n\r\n        if (callback) {\r\n          callback.call(this)\r\n        }\r\n      } else {\r\n        throw new Error('Ups, element already added to the lightbox.')\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Remove element\r\n     *\r\n     * @param {HTMLElement} el - Element to remove\r\n     * @param {function} callback - Optional callback to call after remove\r\n     */\r\n    const remove = function add (el, callback) {\r\n      const groupName = getGroupName(el)\r\n\r\n      // Check if element exists\r\n      if (groups[groupName].gallery.indexOf(el) === -1) {\r\n        // TODO\r\n      } else {\r\n        const slideIndex = groups[groupName].gallery.indexOf(el)\r\n        const slideEl = groups[groupName].sliderElements[slideIndex]\r\n\r\n        // TODO If the element to be removed is the currently visible slide\r\n\r\n        // TODO Remove element\r\n        // groups[groupName].gallery.splice(groups[groupName].gallery.indexOf(el)) don't work\r\n        groups[groupName].elementsLength--\r\n\r\n        // Remove zoom icon if necessary\r\n        if (config.zoom && el.querySelector('.tobi-zoom__icon')) {\r\n          const zoomIcon = el.querySelector('.tobi-zoom__icon')\r\n\r\n          zoomIcon.parentNode.classList.remove('tobi-zoom')\r\n          zoomIcon.parentNode.removeChild(zoomIcon)\r\n        }\r\n\r\n        // Unbind click event handler\r\n        el.removeEventListener('click', triggerTobi)\r\n\r\n        // Remove slide\r\n        slideEl.parentNode.removeChild(slideEl)\r\n\r\n        if (isOpen() && groupName === activeGroup) {\r\n          updateConfig()\r\n          updateLightbox()\r\n        }\r\n\r\n        if (callback) {\r\n          callback.call(this)\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Create the lightbox\r\n     *\r\n     */\r\n    const createLightbox = function createLightbox () {\r\n      // Create the lightbox\r\n      lightbox = document.createElement('div')\r\n      lightbox.setAttribute('role', 'dialog')\r\n      lightbox.setAttribute('aria-hidden', 'true')\r\n      lightbox.className = 'tobi'\r\n\r\n      // Create the previous button\r\n      prevButton = document.createElement('button')\r\n      prevButton.className = 'tobi__prev'\r\n      prevButton.setAttribute('type', 'button')\r\n      prevButton.setAttribute('aria-label', config.navLabel[0])\r\n      prevButton.innerHTML = config.navText[0]\r\n      lightbox.appendChild(prevButton)\r\n\r\n      // Create the next button\r\n      nextButton = document.createElement('button')\r\n      nextButton.className = 'tobi__next'\r\n      nextButton.setAttribute('type', 'button')\r\n      nextButton.setAttribute('aria-label', config.navLabel[1])\r\n      nextButton.innerHTML = config.navText[1]\r\n      lightbox.appendChild(nextButton)\r\n\r\n      // Create the close button\r\n      closeButton = document.createElement('button')\r\n      closeButton.className = 'tobi__close'\r\n      closeButton.setAttribute('type', 'button')\r\n      closeButton.setAttribute('aria-label', config.closeLabel)\r\n      closeButton.innerHTML = config.closeText\r\n      lightbox.appendChild(closeButton)\r\n\r\n      // Create the counter\r\n      counter = document.createElement('div')\r\n      counter.className = 'tobi__counter'\r\n      lightbox.appendChild(counter)\r\n\r\n      // Resize event using requestAnimationFrame\r\n      browserWindow.addEventListener('resize', function () {\r\n        if (!resizeTicking) {\r\n          resizeTicking = true\r\n\r\n          browserWindow.requestAnimationFrame(function () {\r\n            updateOffset()\r\n\r\n            resizeTicking = false\r\n          })\r\n        }\r\n      })\r\n\r\n      document.body.appendChild(lightbox)\r\n    }\r\n\r\n    /**\r\n     * Create a slider\r\n     */\r\n    const createSlider = function createSlider () {\r\n      groups[newGroup].slider = document.createElement('div')\r\n      groups[newGroup].slider.className = 'tobi__slider'\r\n      lightbox.appendChild(groups[newGroup].slider)\r\n    }\r\n\r\n    /**\r\n     * Create a slide\r\n     *\r\n     */\r\n    const createSlide = function createSlide (el) {\r\n      // Detect type\r\n      for (let index in supportedElements) { // const index don't work in IE\r\n        if (Object.prototype.hasOwnProperty.call(supportedElements, index)) {\r\n          if (supportedElements[index].checkSupport(el)) {\r\n            // Create slide elements\r\n            const sliderElement = document.createElement('div')\r\n            const sliderElementContent = document.createElement('div')\r\n\r\n            sliderElement.className = 'tobi__slider__slide'\r\n            sliderElement.style.position = 'absolute'\r\n            sliderElement.style.left = groups[newGroup].x * 100 + '%'\r\n            sliderElementContent.className = 'tobi__slider__slide__content'\r\n\r\n            // Create type elements\r\n            supportedElements[index].init(el, sliderElementContent)\r\n\r\n            // Add slide content container to slider element\r\n            sliderElement.appendChild(sliderElementContent)\r\n\r\n            // Add slider element to slider\r\n            groups[newGroup].slider.appendChild(sliderElement)\r\n            groups[newGroup].sliderElements.push(sliderElement)\r\n\r\n            ++groups[newGroup].x\r\n\r\n            break\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Open Tobi\r\n     *\r\n     * @param {number} index - Index to load\r\n     * @param {function} callback - Optional callback to call after open\r\n     */\r\n    const open = function open (index, callback) {\r\n      activeGroup = activeGroup !== null ? activeGroup : newGroup\r\n\r\n      if (!isOpen() && !index) {\r\n        index = 0\r\n      }\r\n\r\n      if (isOpen()) {\r\n        if (!index) {\r\n          throw new Error('Ups, Tobi is aleady open.')\r\n        }\r\n\r\n        if (index === groups[activeGroup].currentIndex) {\r\n          throw new Error('Ups, slide ' + index + ' is already selected.')\r\n        }\r\n      }\r\n\r\n      if (index === -1 || index >= groups[activeGroup].elementsLength) {\r\n        throw new Error('Ups, I can\\'t find slide ' + index + '.')\r\n      }\r\n\r\n      if (config.hideScrollbar) {\r\n        document.documentElement.classList.add('tobi-is-open')\r\n        document.body.classList.add('tobi-is-open')\r\n      }\r\n\r\n      updateConfig()\r\n\r\n      // Hide close if necessary\r\n      if (!config.close) {\r\n        closeButton.disabled = false\r\n        closeButton.setAttribute('aria-hidden', 'true')\r\n      }\r\n\r\n      // Save user’s focus\r\n      lastFocus = document.activeElement\r\n\r\n      // Set current index\r\n      groups[activeGroup].currentIndex = index\r\n\r\n      clearDrag()\r\n      bindEvents()\r\n\r\n      // Load slide\r\n      load(groups[activeGroup].currentIndex)\r\n\r\n      // Makes lightbox appear, too\r\n      lightbox.setAttribute('aria-hidden', 'false')\r\n\r\n      updateLightbox()\r\n\r\n      // Preload previous and next slide\r\n      preload(groups[activeGroup].currentIndex + 1)\r\n      preload(groups[activeGroup].currentIndex - 1)\r\n\r\n      if (callback) {\r\n        callback.call(this)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Close Tobi\r\n     *\r\n     * @param {function} callback - Optional callback to call after close\r\n     */\r\n    const close = function close (callback) {\r\n      if (!isOpen()) {\r\n        throw new Error('Tobi is already closed.')\r\n      }\r\n\r\n      if (config.hideScrollbar) {\r\n        document.documentElement.classList.remove('tobi-is-open')\r\n        document.body.classList.remove('tobi-is-open')\r\n      }\r\n\r\n      unbindEvents()\r\n\r\n      // Reenable the user’s focus\r\n      lastFocus.focus()\r\n\r\n      // Don't forget to cleanup our current element\r\n      const container = groups[activeGroup].sliderElements[groups[activeGroup].currentIndex].querySelector('.tobi__slider__slide__content')\r\n      const type = container.getAttribute('data-type')\r\n\r\n      supportedElements[type].onLeave(container)\r\n      supportedElements[type].onCleanup(container)\r\n\r\n      lightbox.setAttribute('aria-hidden', 'true')\r\n\r\n      // Reset current index\r\n      groups[activeGroup].currentIndex = 0\r\n\r\n      if (callback) {\r\n        callback.call(this)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Preload slide\r\n     *\r\n     * @param {number} index - Index to preload\r\n     */\r\n    const preload = function preload (index) {\r\n      if (groups[activeGroup].sliderElements[index] === undefined) {\r\n        return\r\n      }\r\n\r\n      const container = groups[activeGroup].sliderElements[index].querySelector('.tobi__slider__slide__content')\r\n      const type = container.getAttribute('data-type')\r\n\r\n      supportedElements[type].onPreload(container)\r\n    }\r\n\r\n    /**\r\n     * Load slide\r\n     * Will be called when opening the lightbox or moving index\r\n     *\r\n     * @param {number} index - Index to load\r\n     */\r\n    const load = function load (index) {\r\n      if (groups[activeGroup].sliderElements[index] === undefined) {\r\n        return\r\n      }\r\n\r\n      const container = groups[activeGroup].sliderElements[index].querySelector('.tobi__slider__slide__content')\r\n      const type = container.getAttribute('data-type')\r\n\r\n      supportedElements[type].onLoad(container)\r\n    }\r\n\r\n    /**\r\n     * Show the previous slide\r\n     *\r\n     * @param {function} callback - Optional callback function\r\n     */\r\n    const prev = function prev (callback) {\r\n      if (groups[activeGroup].currentIndex > 0) {\r\n        leave(groups[activeGroup].currentIndex)\r\n        load(--groups[activeGroup].currentIndex)\r\n        updateLightbox('left')\r\n        cleanup(groups[activeGroup].currentIndex + 1)\r\n        preload(groups[activeGroup].currentIndex - 1)\r\n\r\n        if (callback) {\r\n          callback.call(this)\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Show the next slide\r\n     *\r\n     * @param {function} callback - Optional callback function\r\n     */\r\n    const next = function next (callback) {\r\n      if (groups[activeGroup].currentIndex < groups[activeGroup].elementsLength - 1) {\r\n        leave(groups[activeGroup].currentIndex)\r\n        load(++groups[activeGroup].currentIndex)\r\n        updateLightbox('right')\r\n        cleanup(groups[activeGroup].currentIndex - 1)\r\n        preload(groups[activeGroup].currentIndex + 1)\r\n\r\n        if (callback) {\r\n          callback.call(this)\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Leave slide\r\n     * Will be called before moving index\r\n     *\r\n     * @param {number} index - Index to leave\r\n     */\r\n    const leave = function leave (index) {\r\n      if (groups[activeGroup].sliderElements[index] === undefined) {\r\n        return\r\n      }\r\n\r\n      const container = groups[activeGroup].sliderElements[index].querySelector('.tobi__slider__slide__content')\r\n      const type = container.getAttribute('data-type')\r\n\r\n      supportedElements[type].onLeave(container)\r\n    }\r\n\r\n    /**\r\n     * Cleanup slide\r\n     * Will be called after moving index\r\n     *\r\n     * @param {number} index - Index to cleanup\r\n     */\r\n    const cleanup = function cleanup (index) {\r\n      if (groups[activeGroup].sliderElements[index] === undefined) {\r\n        return\r\n      }\r\n\r\n      const container = groups[activeGroup].sliderElements[index].querySelector('.tobi__slider__slide__content')\r\n      const type = container.getAttribute('data-type')\r\n\r\n      supportedElements[type].onCleanup(container)\r\n    }\r\n\r\n    /**\r\n     * Update offset\r\n     *\r\n     */\r\n    const updateOffset = function updateOffset () {\r\n      activeGroup = activeGroup !== null ? activeGroup : newGroup\r\n\r\n      offset = -groups[activeGroup].currentIndex * window.innerWidth\r\n\r\n      groups[activeGroup].slider.style.transform = 'translate3d(' + offset + 'px, 0, 0)'\r\n      offsetTmp = offset\r\n    }\r\n\r\n    /**\r\n     * Update counter\r\n     *\r\n     */\r\n    const updateCounter = function updateCounter () {\r\n      counter.textContent = (groups[activeGroup].currentIndex + 1) + '/' + groups[activeGroup].elementsLength\r\n    }\r\n\r\n    /**\r\n     * Set focus to the next slide\r\n     *\r\n     * @param {string} dir - Current slide direction\r\n     */\r\n    const updateFocus = function updateFocus (dir) {\r\n      let focusableEls = null\r\n\r\n      if (config.nav) {\r\n        prevButton.disabled = false\r\n        nextButton.disabled = false\r\n\r\n        if (dir === 'left') {\r\n          prevButton.focus()\r\n        } else {\r\n          nextButton.focus()\r\n        }\r\n\r\n        // If there is only one slide\r\n        if (groups[activeGroup].elementsLength === 1) {\r\n          prevButton.disabled = true\r\n          nextButton.disabled = true\r\n\r\n          if (config.close) {\r\n            closeButton.focus()\r\n          }\r\n        } else {\r\n          // If the first slide is displayed\r\n          if (groups[activeGroup].currentIndex === 0) {\r\n            prevButton.disabled = true\r\n            nextButton.focus()\r\n          }\r\n\r\n          // If the last slide is displayed\r\n          if (groups[activeGroup].currentIndex === groups[activeGroup].elementsLength - 1) {\r\n            nextButton.disabled = true\r\n            prevButton.focus()\r\n          }\r\n        }\r\n      } else if (config.close) {\r\n        closeButton.focus()\r\n      }\r\n\r\n      focusableEls = lightbox.querySelectorAll('.tobi > button:not(:disabled)')\r\n      firstFocusableEl = focusableEls[0]\r\n      lastFocusableEl = focusableEls.length === 1 ? focusableEls[0] : focusableEls[focusableEls.length - 1]\r\n    }\r\n\r\n    /**\r\n     * Clear drag after touchend and mousup event\r\n     *\r\n     */\r\n    const clearDrag = function clearDrag () {\r\n      drag = {\r\n        startX: 0,\r\n        endX: 0,\r\n        startY: 0,\r\n        endY: 0\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Recalculate drag / swipe event\r\n     *\r\n     */\r\n    const updateAfterDrag = function updateAfterDrag () {\r\n      const movementX = drag.endX - drag.startX\r\n      const movementY = drag.endY - drag.startY\r\n      const movementXDistance = Math.abs(movementX)\r\n      const movementYDistance = Math.abs(movementY)\r\n\r\n      if (movementX > 0 && movementXDistance > config.threshold && groups[activeGroup].currentIndex > 0) {\r\n        prev()\r\n      } else if (movementX < 0 && movementXDistance > config.threshold && groups[activeGroup].currentIndex !== groups[activeGroup].elementsLength - 1) {\r\n        next()\r\n      } else if (movementY < 0 && movementYDistance > config.threshold && config.swipeClose) {\r\n        close()\r\n      } else {\r\n        updateOffset()\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Click event handler to trigger Tobi\r\n     *\r\n     */\r\n    const triggerTobi = function click (event) {\r\n      event.preventDefault()\r\n\r\n      activeGroup = getGroupName(this)\r\n\r\n      open(groups[activeGroup].gallery.indexOf(this))\r\n    }\r\n\r\n    /**\r\n     * Click event handler\r\n     *\r\n     */\r\n    const clickHandler = function clickHandler (event) {\r\n      if (event.target === prevButton) {\r\n        prev()\r\n      } else if (event.target === nextButton) {\r\n        next()\r\n      } else if (event.target === closeButton || (event.target.className === 'tobi__slider__slide' && config.docClose)) {\r\n        close()\r\n      }\r\n\r\n      event.stopPropagation()\r\n    }\r\n\r\n    /**\r\n     * Keydown event handler\r\n     *\r\n     * @TODO: Remove the deprecated event.keyCode when Edge support event.code and we drop f*cking IE\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\r\n     */\r\n    const keydownHandler = function keydownHandler (event) {\r\n      if (event.keyCode === 9 || event.code === 'Tab') {\r\n        // `TAB` Key: Navigate to the next / previous focusable element\r\n        if (event.shiftKey) {\r\n          // Step backwards in the tab-order\r\n          if (document.activeElement === firstFocusableEl) {\r\n            lastFocusableEl.focus()\r\n            event.preventDefault()\r\n          }\r\n        } else {\r\n          // Step forward in the tab-order\r\n          if (document.activeElement === lastFocusableEl) {\r\n            firstFocusableEl.focus()\r\n            event.preventDefault()\r\n          }\r\n        }\r\n      } else if (event.keyCode === 27 || event.code === 'Escape') {\r\n        // `ESC` Key: Close Tobi\r\n        event.preventDefault()\r\n        close()\r\n      } else if (event.keyCode === 37 || event.code === 'ArrowLeft') {\r\n        // `PREV` Key: Show the previous slide\r\n        event.preventDefault()\r\n        prev()\r\n      } else if (event.keyCode === 39 || event.code === 'ArrowRight') {\r\n        // `NEXT` Key: Show the next slide\r\n        event.preventDefault()\r\n        next()\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Touchstart event handler\r\n     *\r\n     */\r\n    const touchstartHandler = function touchstartHandler (event) {\r\n      // Prevent dragging / swiping on textareas inputs and selects\r\n      if (isIgnoreElement(event.target)) {\r\n        return\r\n      }\r\n\r\n      event.stopPropagation()\r\n\r\n      pointerDown = true\r\n\r\n      drag.startX = event.touches[0].pageX\r\n      drag.startY = event.touches[0].pageY\r\n\r\n      groups[activeGroup].slider.classList.add('tobi__slider--is-dragging')\r\n    }\r\n\r\n    /**\r\n     * Touchmove event handler\r\n     *\r\n     */\r\n    const touchmoveHandler = function touchmoveHandler (event) {\r\n      event.stopPropagation()\r\n\r\n      if (pointerDown) {\r\n        event.preventDefault()\r\n\r\n        drag.endX = event.touches[0].pageX\r\n        drag.endY = event.touches[0].pageY\r\n\r\n        doSwipe()\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Touchend event handler\r\n     *\r\n     */\r\n    const touchendHandler = function touchendHandler (event) {\r\n      event.stopPropagation()\r\n\r\n      pointerDown = false\r\n\r\n      groups[activeGroup].slider.classList.remove('tobi__slider--is-dragging')\r\n\r\n      if (drag.endX) {\r\n        isDraggingX = false\r\n        isDraggingY = false\r\n\r\n        updateAfterDrag()\r\n      }\r\n\r\n      clearDrag()\r\n    }\r\n\r\n    /**\r\n     * Mousedown event handler\r\n     *\r\n     */\r\n    const mousedownHandler = function mousedownHandler (event) {\r\n      // Prevent dragging / swiping on textareas inputs and selects\r\n      if (isIgnoreElement(event.target)) {\r\n        return\r\n      }\r\n\r\n      event.preventDefault()\r\n      event.stopPropagation()\r\n\r\n      pointerDown = true\r\n\r\n      drag.startX = event.pageX\r\n      drag.startY = event.pageY\r\n\r\n      groups[activeGroup].slider.classList.add('tobi__slider--is-dragging')\r\n    }\r\n\r\n    /**\r\n     * Mousemove event handler\r\n     *\r\n     */\r\n    const mousemoveHandler = function mousemoveHandler (event) {\r\n      event.preventDefault()\r\n\r\n      if (pointerDown) {\r\n        drag.endX = event.pageX\r\n        drag.endY = event.pageY\r\n\r\n        doSwipe()\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Mouseup event handler\r\n     *\r\n     */\r\n    const mouseupHandler = function mouseupHandler (event) {\r\n      event.stopPropagation()\r\n\r\n      pointerDown = false\r\n\r\n      groups[activeGroup].slider.classList.remove('tobi__slider--is-dragging')\r\n\r\n      if (drag.endX) {\r\n        isDraggingX = false\r\n        isDraggingY = false\r\n\r\n        updateAfterDrag()\r\n      }\r\n\r\n      clearDrag()\r\n    }\r\n\r\n    /**\r\n     * Decide whether to do horizontal of vertical swipe\r\n     *\r\n     */\r\n    const doSwipe = function doSwipe () {\r\n      if (Math.abs(drag.startX - drag.endX) > 0 && !isDraggingY && config.swipeClose) {\r\n        // Horizontal swipe\r\n        groups[activeGroup].slider.style.transform = 'translate3d(' + (offsetTmp - Math.round(drag.startX - drag.endX)) + 'px, 0, 0)'\r\n\r\n        isDraggingX = true\r\n        isDraggingY = false\r\n      } else if (Math.abs(drag.startY - drag.endY) > 0 && !isDraggingX) {\r\n        // Vertical swipe\r\n        groups[activeGroup].slider.style.transform = 'translate3d(' + (offsetTmp + 'px, -' + Math.round(drag.startY - drag.endY)) + 'px, 0)'\r\n\r\n        isDraggingX = false\r\n        isDraggingY = true\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Bind events\r\n     *\r\n     */\r\n    const bindEvents = function bindEvents () {\r\n      if (config.keyboard) {\r\n        document.addEventListener('keydown', keydownHandler)\r\n      }\r\n\r\n      // Click event\r\n      lightbox.addEventListener('click', clickHandler)\r\n\r\n      if (config.draggable) {\r\n        if (isTouchDevice()) {\r\n          // Touch events\r\n          lightbox.addEventListener('touchstart', touchstartHandler)\r\n          lightbox.addEventListener('touchmove', touchmoveHandler)\r\n          lightbox.addEventListener('touchend', touchendHandler)\r\n        }\r\n\r\n        // Mouse events\r\n        lightbox.addEventListener('mousedown', mousedownHandler)\r\n        lightbox.addEventListener('mouseup', mouseupHandler)\r\n        lightbox.addEventListener('mousemove', mousemoveHandler)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Unbind events\r\n     *\r\n     */\r\n    const unbindEvents = function unbindEvents () {\r\n      if (config.keyboard) {\r\n        document.removeEventListener('keydown', keydownHandler)\r\n      }\r\n\r\n      // Click event\r\n      lightbox.removeEventListener('click', clickHandler)\r\n\r\n      if (config.draggable) {\r\n        if (isTouchDevice()) {\r\n          // Touch events\r\n          lightbox.removeEventListener('touchstart', touchstartHandler)\r\n          lightbox.removeEventListener('touchmove', touchmoveHandler)\r\n          lightbox.removeEventListener('touchend', touchendHandler)\r\n        }\r\n\r\n        // Mouse events\r\n        lightbox.removeEventListener('mousedown', mousedownHandler)\r\n        lightbox.removeEventListener('mouseup', mouseupHandler)\r\n        lightbox.removeEventListener('mousemove', mousemoveHandler)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Checks whether element has requested data-type value\r\n     *\r\n     */\r\n    const checkType = function checkType (el, type) {\r\n      return el.getAttribute('data-type') === type\r\n    }\r\n\r\n    /**\r\n     * Remove all `src` attributes\r\n     *\r\n     * @param {HTMLElement} el - Element to remove all `src` attributes\r\n     */\r\n    const removeSources = function setVideoSources (el) {\r\n      const sources = el.querySelectorAll('src')\r\n\r\n      if (sources) {\r\n        Array.prototype.forEach.call(sources, function (source) {\r\n          source.setAttribute('src', '')\r\n        })\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Update Config\r\n     *\r\n     */\r\n    const updateConfig = function updateConfig () {\r\n      if (config.draggable && groups[activeGroup].elementsLength > 1 && !groups[activeGroup].slider.classList.contains('tobi__slider--is-draggable')) {\r\n        groups[activeGroup].slider.classList.add('tobi__slider--is-draggable')\r\n      }\r\n\r\n      // Hide buttons if necessary\r\n      if (!config.nav || groups[activeGroup].elementsLength === 1 || (config.nav === 'auto' && isTouchDevice())) {\r\n        prevButton.setAttribute('aria-hidden', 'true')\r\n        nextButton.setAttribute('aria-hidden', 'true')\r\n      } else {\r\n        prevButton.setAttribute('aria-hidden', 'false')\r\n        nextButton.setAttribute('aria-hidden', 'false')\r\n      }\r\n\r\n      // Hide counter if necessary\r\n      if (!config.counter || groups[activeGroup].elementsLength === 1) {\r\n        counter.setAttribute('aria-hidden', 'true')\r\n      } else {\r\n        counter.setAttribute('aria-hidden', 'false')\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Update slider\r\n     */\r\n    const updateSlider = function updateSlider () {\r\n      for (let name in groups) { // const name don't work in IE\r\n        if (!Object.prototype.hasOwnProperty.call(groups, name)) continue\r\n        groups[name].slider.style.display = activeGroup === name ? 'block' : 'none'\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Update lightbox\r\n     *\r\n     * @param {string} dir - Current slide direction\r\n     */\r\n    const updateLightbox = function updateLightbox (dir) {\r\n      updateSlider()\r\n      updateOffset()\r\n      updateCounter()\r\n      updateFocus(dir)\r\n    }\r\n\r\n    /**\r\n     * Destroy Tobi\r\n     *\r\n     * @param {function} callback - Optional callback to call after destroy\r\n     */\r\n    const destroy = function destroy (callback) {\r\n      if (isOpen()) {\r\n        close()\r\n      }\r\n\r\n      // TODO Cleanup\r\n      const groupsEntries = Object.entries(groups)\r\n\r\n      Array.prototype.forEach.call(groupsEntries, function (groupsEntrie) {\r\n        const els = groupsEntrie[1].gallery\r\n\r\n        Array.prototype.forEach.call(els, function (el) {\r\n          remove(el)\r\n        })\r\n      })\r\n\r\n      lightbox.parentNode.removeChild(lightbox)\r\n\r\n      groups = {}\r\n      newGroup = activeGroup = null\r\n      figcaptionId = 0\r\n\r\n      // TODO\r\n\r\n      if (callback) {\r\n        callback.call(this)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Check if Tobi is open\r\n     *\r\n     */\r\n    const isOpen = function isOpen () {\r\n      return lightbox.getAttribute('aria-hidden') === 'false'\r\n    }\r\n\r\n    /**\r\n     * Detect whether device is touch capable\r\n     *\r\n     */\r\n    const isTouchDevice = function isTouchDevice () {\r\n      return 'ontouchstart' in window\r\n    }\r\n\r\n    /**\r\n     * Checks whether element's nodeName is part of array\r\n     *\r\n     */\r\n    const isIgnoreElement = function isIgnoreElement (el) {\r\n      return ['TEXTAREA', 'OPTION', 'INPUT', 'SELECT'].indexOf(el.nodeName) !== -1 || el === prevButton || el === nextButton || el === closeButton || groups[activeGroup].elementsLength === 1\r\n    }\r\n\r\n    /**\r\n     * Return current index\r\n     *\r\n     */\r\n    const currentSlide = function currentSlide () {\r\n      return groups[activeGroup].currentIndex\r\n    }\r\n\r\n    /**\r\n     * Return current group\r\n     *\r\n     */\r\n    const currentGroup = function currentGroup () {\r\n      return activeGroup !== null ? activeGroup : newGroup\r\n    }\r\n\r\n    /**\r\n     * Select a specific group\r\n     *\r\n     * @param {string} name\r\n     */\r\n    const selectGroup = function selectGroup (name) {\r\n      if (isOpen()) {\r\n        throw new Error('Ups, I can\\'t do this. Tobi is open.')\r\n      }\r\n\r\n      if (!name) {\r\n        return\r\n      }\r\n\r\n      if (name && !Object.prototype.hasOwnProperty.call(groups, name)) {\r\n        throw new Error('Ups, I don\\'t have a group called \"' + name + '\".')\r\n      }\r\n\r\n      activeGroup = name\r\n    }\r\n\r\n    init(userOptions)\r\n\r\n    return {\r\n      open: open,\r\n      prev: prev,\r\n      next: next,\r\n      close: close,\r\n      add: checkDependencies,\r\n      remove: remove,\r\n      destroy: destroy,\r\n      isOpen: isOpen,\r\n      currentSlide: currentSlide,\r\n      selectGroup: selectGroup,\r\n      currentGroup: currentGroup\r\n    }\r\n  }\r\n\r\n  return Tobi\r\n}))\r\n","/**\n * Dropdown menu\n\n * Timer for hover exit: better usability\n * Works with keyboard: a11y\n * Desktop menu with touch: doubletap\n * Mobile menu with touch\n * Works at least with 3 levels (probably more)\n */\nvar component_dropdown_menu = function(args) {\n\n  // setup args\n  var desktop_min_width = args.desktop_min_width, // match this to $menu-visible SASS variable\n      menu              = args.menu,\n      screen_w,\n      hover_timeout;\n\n  // validate\n  if (!menu) {\n    console.log('Invalid drop-down menu');\n    return;\n  }\n\n  /**\n   * Helper: Get all ancestors\n   */\n  function get_all_ancestors(item, css_class) {\n\n    var result = [];\n    var ancestor = item.parentElement;\n    while (!ancestor.isEqualNode(menu)) {\n      if (ancestor.classList.contains(css_class)) {\n        result.push(ancestor);\n      }\n      ancestor = ancestor.parentElement;\n    }\n    return result;\n\n  }\n\n  /**\n   * Helper: Get closest ancestor\n   */\n  function get_ancestor(item, css_class) {\n\n    var result = get_all_ancestors(item, css_class);\n    if (result.length) {\n      return result[0];\n    }\n    return null;\n\n  }\n\n  /**\n   * Helper: Is element inside menu\n   */\n  function is_element_inside_menu(el) {\n\n    while ((el = el.parentElement) !== null) {\n      if (el.nodeType !== Node.ELEMENT_NODE) {\n        continue;\n      }\n      if (el.isEqualNode(menu)) {\n        return true;\n      }\n    }\n    return false;\n\n  }\n\n  /**\n   * Helper: Is desktop menu\n   *\n   * Checks if window is wider than set desktop limit.\n   *\n   * @return bool is desktop width screen\n   */\n  function is_desktop_menu() {\n\n    screen_w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    if (screen_w < desktop_min_width) {\n      return false;\n    }\n    return true;\n\n  }\n\n   /**\n    * Helper: Show menu item children <li class=\"menu-item-has-children\">\n    */\n   function activate_menu_item(li) {\n\n    // validate\n    if (!li) {\n      return;\n    }\n\n    // acticate <li>\n    li.setAttribute('aria-expanded', 'true');\n\n    // actiate <ul>\n    var ul = li.querySelector('.sub-menu');\n    if (ul) {\n      ul.setAttribute('aria-hidden', 'false');\n      // check that <ul> fits viewport\n      if (ul.getBoundingClientRect().right > (window.innerWidth || document.documentElement.clientWidth)) {\n        ul.classList.add('is-out-of-bounds');\n      }\n    }\n\n    // activate parents <li> + <ul>\n    var ancestors = get_all_ancestors(li, 'menu-item-has-children');\n    for (var i = 0; i < ancestors.length; i++) {\n      activate_menu_item(ancestors[i]);\n    }\n\n  }\n\n   /**\n    * Helper: Hide menu item children <li class=\"menu-item-has-children\">\n    */\n   function deactivate_menu_item(li) {\n\n    // validate\n    if (!li) {\n      return;\n    }\n\n    // deactivate <li>\n    li.setAttribute('aria-expanded', 'false');\n\n    // deactivate <ul>\n    var ul = li.querySelector('.sub-menu');\n    if (ul) {\n      ul.setAttribute('aria-hidden', 'true');\n      ul.classList.remove('is-out-of-bounds');\n    }\n\n    // deactivate children <li> + <ul>\n    var children = li.querySelectorAll('.menu-item-has-children');\n    for (var i = 0; i < children.length; i++) {\n      deactivate_menu_item(children[i]);\n    }\n\n  }\n\n  /**\n   * Helper: Toggle menu item\n   */\n  function toggle_menu_item(li) {\n\n    if (li) {\n      if (li.getAttribute('aria-expanded') === 'false') {\n        activate_menu_item(li);\n      } else {\n        deactivate_menu_item(li);\n      }\n    }\n\n  }\n\n  /**\n   * Helper: Reset all menu-items' state\n   */\n  function reset_menu_items() {\n\n    var items_with_children = menu.querySelectorAll('.menu-item-has-children');\n    for (var i = 0; i < items_with_children.length; i++) {\n      deactivate_menu_item(items_with_children[i]);\n      items_with_children[i].classList.remove('is-tapped');\n    }\n\n  }\n\n  /**\n   * Event: Handle mouse enter hover\n   */\n  function menu_item_mouseenter(e) {\n\n    if (is_desktop_menu()) {\n\n      // clear any previously set closing timeout\n      clearTimeout(hover_timeout);\n\n      // deactivate all <li> that are not part of this DOM tree\n      var ancestors = get_all_ancestors(e.currentTarget, 'menu-item-has-children');\n      var li_with_children = menu.querySelectorAll('.menu-item-has-children');\n      for (var j = 0; j < li_with_children.length; j++) {\n        if (li_with_children[j] !== e.currentTarget && ancestors.indexOf(li_with_children[j]) === -1) {\n          deactivate_menu_item(li_with_children[j]);\n        }\n      }\n\n      // activate hovered <li>\n      activate_menu_item(e.currentTarget);\n\n    }\n\n  }\n\n  /**\n   * Event: Handle mouseleave hover\n   *\n   * Close menu when hover timer has ended (only for desktop menus)\n   */\n  var menu_item_mouseleave = function(e) {\n\n    // delay closing for more natural hover\n    if (is_desktop_menu()) {\n      hover_timeout = setTimeout(function(li) {\n        deactivate_menu_item(li);\n      }, 750, e.currentTarget);\n    }\n\n  };\n\n  /**\n   * Event: Dropdown caret clicked\n   *\n   * Open sub-menu and change caret state\n   */\n  var caret_click_event = function(e) {\n\n    // activate or deactivate <li>\n    toggle_menu_item(get_ancestor(e.currentTarget, 'menu-item-has-children'));\n\n    // don't trigger parent(s)\n    e.stopPropagation();\n\n  };\n\n   /**\n    * Event: Click on empty link (a[href=\"#\"])\n    */\n   function empty_a_click_event(e) {\n\n    // cancel default action\n    e.preventDefault();\n\n    // activate or deactivate <li>\n    toggle_menu_item(get_ancestor(e.currentTarget, 'menu-item-has-children'));\n\n   }\n\n  /**\n   * Event: Touch outside menu after menu has been opened with single tap\n   *\n   * Closes menus if touch is outside of menus\n   */\n  function outside_menu_touch_event(e) {\n\n    // if the target of the tap isn't menu nor a descendant of menu\n    if (is_desktop_menu() && !is_element_inside_menu(e.currentTarget)) {\n      reset_menu_items();\n    }\n\n    // remove this event listener\n    document.removeEventListener('ontouchstart', outside_menu_touch_event, false);\n\n  }\n\n  /**\n   * Event: Menu item parent a touched\n   *\n   * In desktop mode, open sub-menu with first click and navigate\n   * only when doubletapped\n   */\n   function menu_item_parent_a_touch_event(e) {\n\n    if (!is_desktop_menu()) {\n      return;\n    }\n\n    var li = get_ancestor(e.currentTarget, 'menu-item-has-children');\n\n    if (!li.classList.contains('is-tapped')) {\n\n      // first tap: don't go to <a> yet\n      e.preventDefault();\n\n      // remove .tapped class and close all <li> that don't belong to this DOM tree\n      var ancestors = get_all_ancestors(e.currentTarget, 'menu-item-has-children');\n      var li_with_children = menu.querySelectorAll('.menu-item-has-children');\n      for (var j = 0; j < li_with_children.length; j++) {\n        if (li_with_children[j] !== e.currentTarget && ancestors.indexOf(li_with_children[j]) === -1) {\n          li_with_children[j].classList.remove('is-tapped');\n          deactivate_menu_item(li_with_children[j]);\n        }\n      }\n\n      // add .tapped class and activate <li>\n      li.classList.add('is-tapped');\n      activate_menu_item(li);\n\n      // add event listener to click outside menu\n      document.addEventListener('touchstart', outside_menu_touch_event, false);\n\n    }\n\n   }\n\n  /**\n   * Init\n   */\n  function init_dropdown_menu() {\n\n    // close all menus\n    reset_menu_items();\n\n    // setup hover hooks (menu-item)\n    var menu_items = menu.querySelectorAll('.menu-item');\n    for (var j = 0; j < menu_items.length; j++) {\n      menu_items[j].addEventListener('mouseenter', menu_item_mouseenter);\n      menu_items[j].addEventListener('mouseleave', menu_item_mouseleave);\n    }\n\n    // setup click hooks (carets)\n    var menu_carets = menu.querySelectorAll('.js-menu-caret');\n    for (var k = 0; k < menu_carets.length; k++) {\n      menu_carets[k].addEventListener('click', caret_click_event);\n    }\n\n    // setup click hooks (empty links)\n    var empty_a = menu.querySelectorAll('a[href=\"#\"]');\n    for (var l = 0; l < empty_a.length; l++) {\n      empty_a[l].addEventListener('click', empty_a_click_event);\n    }\n\n    // setup touch hooks (parent menu-item a)\n    var menu_item_a = menu.querySelectorAll('.menu-item-has-children a');\n    for (var m = 0; m < menu_item_a.length; m++) {\n      menu_item_a[m].addEventListener('touchstart', menu_item_parent_a_touch_event, false);\n    }\n\n  }\n  init_dropdown_menu();\n\n  // make the call chainable\n  return this;\n\n};\n","/**\n * Content markup enhancements\n */\n\n/**\n * Add identifiers for first and last block\n */\nvar gutenberg_content = document.querySelector('.wysiwyg');\nif (gutenberg_content) {\n  for (var i = 0; i < gutenberg_content.childNodes.length; i++) {\n    if (gutenberg_content.childNodes[i].nodeType !== 3 && gutenberg_content.childNodes[i].classList !== \"undefined\") {\n      gutenberg_content.childNodes[i].classList.add('is-first-block');\n      break;\n    }\n  }\n  for (var i = (gutenberg_content.childNodes.length - 1); i >= 0; i--) {\n    if (gutenberg_content.childNodes[i].nodeType !== 3 && gutenberg_content.childNodes[i].classList !== \"undefined\") {\n      gutenberg_content.childNodes[i].classList.add('is-last-block');\n      break;\n    }\n  }\n}\n\n/**\n * Make tables responsive\n */\nvar responsive_tables_in_content = function() {\n\n  var tables = document.querySelectorAll('.wysiwyg .wp-block-table table');\n  if (tables) {\n    for (var i = 0; i < tables.length; i++) {\n\n      // add modifier class to affected table\n      tables[i].classList.add('wp-block-table--responsive');\n\n      // create new wrapper\n      var wrapper = document.createElement('div');\n\n      // take all classes from table\n      wrapper.setAttribute('class', tables[i].getAttribute('class'));\n\n      // reset table classes\n      tables[i].removeAttribute('class');\n\n      // wrap the table\n      tables[i].parentNode.insertBefore(wrapper, tables[i]);\n      wrapper.appendChild(tables[i]);\n\n    }\n  }\n\n};\nresponsive_tables_in_content();\n\n/**\n * Classic Editor image markup \"polyfill\"\n *\n * Wrap old images with captions to make alignment work and markup fit Gutenberg style\n * <figure class=\"wp-caption\"><img></figure> => <div class=\"wp-block-image\"><figure class=\"wp-caption\"><img></figure></div>\n */\nvar wrap_old_images_with_caption = function() {\n  var figures = document.querySelectorAll('.wysiwyg .wp-caption');\n  if (figures.length) {\n    for (var i = 0; i < figures.length; i++) {\n      if (!figures[i].parentNode.classList.contains('wp-block-image')) {\n        var wrapper = document.createElement('div');\n        wrapper.setAttribute('class', 'wp-block-image');\n        figures[i].parentNode.insertBefore(wrapper, figures[i]);\n        wrapper.appendChild(figures[i]);\n      }\n    }\n  }\n};\nwrap_old_images_with_caption();\n\n/**\n * Classic Editor aligned image markup \"polyfill\"\n *\n * Wrap old aligned images without caption to make markup fit Gutenberg style\n * <p><img class=\"alignleft\">Text<p> => <div class=\"wp-block-image\"><figure class=\"alignleft\"><img></figure></div><p>Text</p>\n */\nvar wrap_old_aligned_images = function() {\n  var aligned_parent;\n  var aligned = document.querySelectorAll('.wysiwyg img.alignleft, .wysiwyg img.alignright');\n  if (aligned.length) {\n    for (var i = 0; i < aligned.length; i++) {\n\n      // save references\n      aligned_parent = aligned[i].parentNode;\n\n      // if parent is paragraph, unwrap\n      if (aligned_parent.nodeName === 'P') {\n        aligned_parent.parentNode.insertBefore(aligned[i], aligned_parent);\n        // remove paragraph if its now empty\n        if (aligned_parent.childNodes.length === 0) {\n          aligned_parent.parentNode.removeChild(aligned_parent);\n        }\n      }\n\n      // find and remove alignment from img\n      var alignment = (aligned[i].classList.contains('alignleft')) ? 'alignleft' : 'alignright';\n      aligned[i].classList.remove(alignment);\n\n      // wrap with figure\n      var figure = document.createElement('figure');\n      figure.setAttribute('class', alignment);\n      aligned[i].parentNode.insertBefore(figure, aligned[i]);\n      figure.appendChild(aligned[i]);\n\n      // wrap with .wp-block-image\n      var div = document.createElement('div');\n      div.setAttribute('class', 'wp-block-image');\n      figure.parentNode.insertBefore(div, figure);\n      div.appendChild(figure);\n\n    }\n  }\n};\nwrap_old_aligned_images();\n\n/**\n * Add body class .has-no-hero-background\n */\nvar body_hero_background_indicator = function() {\n\n  if (document.querySelector('.hero--no-background')) {\n    document.body.classList.add('has-no-hero-background');\n  }\n\n};\nbody_hero_background_indicator();\n\n/**\n * Lightbox (Tobi.js) support for native gallery and images\n * Requires link to media file from gallery/image settings.\n *\n * Try to find the a-tag parents to the images (the img-tag itself with the last two selectors), both gutenberg and classic editor.\n * Selectors:\n *   gutenberg gallery,\n *   classic gallery,\n *   gutenberg images AND classic images with caption,\n *   classic images without caption and with no or center align,\n *   classic images without caption and with left or right align\n */\nvar imgItems = document.querySelectorAll('.blocks-gallery-item > figure > a, .gallery-item > .gallery-icon > a, .wp-block-image a, p > a > img, p > a > .wp-block-image');\n// if found, add .lightbox class that Tobi uses as selector to the items\nif (imgItems.length) {\n  imgItems.forEach(function(item) {\n    var formats = ['.jpg', '.png', '.jpeg'];\n    // check (3 first selectors) href to verify media link\n    if (item.href) {\n      if (formats.some(el => item.href.includes(el))) {\n        item.classList.add('lightbox');\n      }\n      // check for figcaption (images and gutenberg gallery) and add it to a data attribute\n      if (item.nextElementSibling) {\n        if (item.nextElementSibling.nodeName.toLowerCase() === 'figcaption') {\n          item.dataset.caption = item.nextElementSibling.innerText;\n        }\n      } else if (item.parentNode.nextElementSibling) { // classic gallery\n        if (item.parentNode.nextElementSibling.nodeName.toLowerCase() === 'figcaption') {\n          item.dataset.caption = item.parentNode.nextElementSibling.innerText;\n        }\n      }\n    } else if (item.parentNode.href) { // check (2 last selectors) href to verify media link\n      if (formats.some(el => item.parentNode.href.includes(el))) {\n        item.parentNode.classList.add('lightbox');\n      }\n    }\n  });\n}\n","/**\n * Mobile menu\n */\nvar component_mobile_menu = function(args) {\n\n  // setup args\n  var menu     = args.menu,\n      site     = args.site,\n      toggles  = args.toggles;\n\n  // validate\n  if (!menu || !site || !toggles.length) {\n    console.log('Invalid mobile_menu args');\n    return;\n  }\n\n  // setup a11y dialog\n  var dialog = new A11yDialog(menu, site);\n\n  // tasks to open menu visually\n  var open_menu = function() {\n\n   document.body.classList.add('is-active-menu');\n\n  };\n\n  // tasks to close menu visually\n  var close_menu = function() {\n\n    document.body.classList.add('is-closing-menu');\n    setTimeout(function(){\n      document.body.classList.remove('is-active-menu');\n      document.body.classList.remove('is-closing-menu');\n     }, 200);\n\n  };\n\n  // hooks\n  dialog.on('show', function (element, event) {\n    open_menu();\n  });\n  dialog.on('hide', function (element, event) {\n    close_menu();\n  });\n\n\n  // toggle click\n  var handle_toggle = function(e) {\n    if (document.body.classList.contains('is-active-menu')) {\n       dialog.hide();\n    } else {\n      dialog.show();\n    }\n  };\n\n  for (var i = 0; i < toggles.length; i++) {\n    toggles[i].addEventListener('click', handle_toggle, false);\n  }\n\n  // make the call chainable\n  return this;\n\n};\n","/* ==========================================================================\n  main.js\n========================================================================== */\n\n/**\n * Init dropdown-menus\n */\nvar dropdown_menus = document.querySelectorAll('.js-navigation');\nfor (var i = 0; i < dropdown_menus.length; i++) {\n  component_dropdown_menu({\n    desktop_min_width: 890,\n    menu: dropdown_menus[i]\n  });\n}\n\n/**\n * Init mobile menu\n */\ncomponent_mobile_menu({\n  menu:     document.querySelector('.js-mobile-menu'),\n  site:     document.querySelector('.js-page'),\n  toggles:  document.querySelectorAll('.js-menu-toggle')\n});\n\n/**\n * Init Responsive videos\n */\nfitvids();\n\n/**\n * Init polyfill object-fit for lazyloaded\n */\nif (typeof objectFitPolyfill === \"function\") {\n  document.addEventListener('lazybeforeunveil', function(e){\n    objectFitPolyfill();\n    e.target.addEventListener('load', function() {\n      objectFitPolyfill();\n    });\n  });\n}\n\n/**\n * Init lightbox\n */\nif (document.querySelectorAll('.lightbox').length) {\n  try {\n    new Tobi({\n      // variables from script localization in register-assets.php\n      navLabel: [theme_strings.prev, theme_strings.next],\n      closeLabel: theme_strings.close,\n      loadingIndicatorLabel: theme_strings.loading,\n      captionsSelector: 'self',\n      captionAttribute: 'data-caption',\n      zoom: false,\n    });\n  } catch (e) {\n    console.log(e);\n  }\n}\n"],"sourceRoot":"assets/scripts/"}